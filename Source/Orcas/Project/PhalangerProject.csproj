<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="3.5">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <ProductVersion>9.0.30729</ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{16041FE4-7A5D-4DFD-9A79-A92B6A81E291}</ProjectGuid>
    <OutputType>Library</OutputType>
    <NoStandardLibraries>false</NoStandardLibraries>
    <AssemblyName>PhalangerProject</AssemblyName>
    <RootNamespace>PHP.VisualStudio.PhalangerProject</RootNamespace>
    <Win32Resource>NativeResources\FileIcons.RES</Win32Resource>
    <SccProjectName>%24/Phalanger/Source/Orcas/Project</SccProjectName>
    <SccLocalPath>.</SccLocalPath>
    <SccAuxPath>https://tfs.codeplex.com/tfs/TFS01</SccAuxPath>
    <SccProvider>{4CA58AB2-18FA-4F8D-95D4-32DDF27D184C}</SccProvider>
    <SignAssembly>true</SignAssembly>
    <AssemblyOriginatorKeyFile>Project.snk</AssemblyOriginatorKeyFile>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'Debug' ">
    <DebugSymbols>true</DebugSymbols>
    <Optimize>false</Optimize>
    <OutputPath>..\bin\Debug\</OutputPath>
    <EnableUnmanagedDebugging>false</EnableUnmanagedDebugging>
    <DefineConstants>TRACE;DEBUG</DefineConstants>
    <WarningLevel>4</WarningLevel>
    <IncrementalBuild>false</IncrementalBuild>
    <TreatWarningsAsErrors>false</TreatWarningsAsErrors>
    <NoWarn>414</NoWarn>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
    <DebugSymbols>false</DebugSymbols>
    <Optimize>true</Optimize>
    <OutputPath>..\bin\Release\</OutputPath>
    <EnableUnmanagedDebugging>false</EnableUnmanagedDebugging>
    <DefineConstants>TRACE</DefineConstants>
    <WarningLevel>4</WarningLevel>
    <IncrementalBuild>false</IncrementalBuild>
    <NoWarn>414</NoWarn>
    <TreatWarningsAsErrors>false</TreatWarningsAsErrors>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="EnvDTE" />
    <Reference Include="EnvDTE80" />
    <Reference Include="Microsoft.VisualStudio.Package.LanguageService.9.0, Version=3.5.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL" />
    <Reference Include="Microsoft.VisualStudio.Shell.Interop.8.0, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>$(VsSDKInstall)\VisualStudioIntegration\Common\Assemblies\Microsoft.VisualStudio.Shell.Interop.8.0.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.Windows.Design.Host" />
    <Reference Include="Microsoft.Windows.Design.Interaction" />
    <Reference Include="Microsoft.VisualStudio.Designer.Interfaces" />
    <Reference Include="Microsoft.VisualStudio.OLE.Interop" />
    <Reference Include="Microsoft.VisualStudio.Shell.9.0" />
    <Reference Include="Microsoft.VisualStudio.Shell.Interop" />
    <Reference Include="Microsoft.VisualStudio.Shell.Interop.9.0" />
    <Reference Include="Microsoft.VisualStudio.TextManager.Interop" />
    <Reference Include="Microsoft.VisualStudio.TextManager.Interop.8.0" />
    <Reference Include="PhpNetCore, Version=2.0.0.0, Culture=neutral, PublicKeyToken=0a8e8c4c76728c71, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\bin\Debug\PhpNetCore.dll</HintPath>
    </Reference>
    <Reference Include="System" />
    <Reference Include="System.Data" />
    <Reference Include="System.Drawing" />
    <Reference Include="System.Windows.Forms" />
    <Reference Include="System.Xml" />
    <Reference Include="VSLangProj" />
  </ItemGroup>
  <PropertyGroup>
    <VsSDKInstall>C:\Program Files (x86)\Microsoft Visual Studio 2008 SDK</VsSDKInstall>
    <!-- TODO -->
    <VSSDKCSharpIncPath>$(VsSDKInstall)\VisualStudioIntegration\Common\Source\CSharp</VSSDKCSharpIncPath>
    <CommonRegAttributes>$(VSSDKCSharpIncPath)\RegistrationAttributes</CommonRegAttributes>
    <ProjectBasePath>..\mpf 9.0\Src\CSharp</ProjectBasePath>
  </PropertyGroup>
  <ItemGroup>
    <Compile Include="$(CommonRegAttributes)\WebSiteProjectAttribute.cs">
      <Link>RegistrationAttributes\WebSiteProjectAttribute.cs</Link>
    </Compile>
    <Compile Include="$(CommonRegAttributes)\WebSiteProjectRelatedFilesAttribute.cs">
      <Link>RegistrationAttributes\WebSiteProjectRelatedFilesAttribute.cs</Link>
    </Compile>
    <Compile Include="$(CommonRegAttributes)\WAProvideLanguagePropertyAttribute.cs">
      <Link>RegistrationAttributes\WAProvideLanguagePropertyAttribute.cs</Link>
    </Compile>
    <Compile Include="$(CommonRegAttributes)\WAProvideProjectFactoryAttribute.cs">
      <Link>RegistrationAttributes\WAProvideProjectFactoryAttribute.cs</Link>
    </Compile>
    <Compile Include="$(CommonRegAttributes)\WAProvideProjectFactoryTemplateMappingAttribute.cs">
      <Link>RegistrationAttributes\WAProvideProjectFactoryTemplateMappingAttribute.cs</Link>
    </Compile>
    <Compile Include="$(CommonRegAttributes)\ProvideMSBuildTargetAttribute.cs">
      <Link>RegistrationAttributes\ProvideMSBuildTargetAttribute.cs</Link>
    </Compile>
    <Compile Include="AssemblyInfo.cs">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="Automation.cs" />
    <Compile Include="ConfigurationPropertyPages.cs" />
    <Compile Include="Constants.cs" />
    <Compile Include="Resources.cs" />
    <Compile Include="Resources.Designer.cs">
      <AutoGen>True</AutoGen>
      <DesignTime>True</DesignTime>
      <DependentUpon>Resources.resx</DependentUpon>
    </Compile>
    <Compile Include="_Python\EditorFactory.cs" />
    <Compile Include="_Python\Enums.cs" />
    <Compile Include="Guids.cs" />
    <Compile Include="PropertyPages.cs" />
    <Compile Include="ConfigProvider.cs" />
    <Compile Include="_ProjectReferenceNode.cs" />
    <Compile Include="_ReferenceContainerNode.cs" />
    <Compile Include="Package.cs" />
    <Compile Include="ProjectFactory.cs" />
    <Compile Include="ProjectFileConstants.cs" />
    <Compile Include="_WPFProviders\PythonEventBindingProvider.cs" />
    <Compile Include="_WPFProviders\PythonRuntimeNameProvider.cs" />
    <Compile Include="FileNode.cs" />
    <Compile Include="FileNodeProperties.cs" />
    <Compile Include="Menus.cs" />
    <Compile Include="ProjectNode.cs" />
    <Compile Include="ProjectNodeProperties.cs" />
    <Compile Include="_Python\ProjectDocumentsListenerForMainFileUpdates.cs" />
    <Compile Include="SelectionElementValueChangedListener.cs" />
    <Compile Include="VSMDPythonProvider.cs" />
    <Compile Include="$(CommonRegAttributes)\SingleFileGeneratorSupportRegistrationAttribute.cs">
      <Link>RegistrationAttributes\SingleFileGeneratorSupportRegistrationAttribute.cs</Link>
      <Visible>true</Visible>
    </Compile>
    <Compile Include="_WPFProviders\PythonWPFFlavor.cs" />
    <Compile Include="_WPFProviders\PythonWPFProjectFactory.cs" />
  </ItemGroup>
  <ItemGroup>
    <VSCTCompile Include="PkgCmd.vsct">
      <ResourceName>1000</ResourceName>
    </VSCTCompile>
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Include="Resources.resx">
      <MergeWithCTO>true</MergeWithCTO>
      <SubType>Designer</SubType>
      <Generator>ResXFileCodeGenerator</Generator>
      <LastGenOutput>Resources.Designer.cs</LastGenOutput>
    </EmbeddedResource>
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\LanguageService\LanguageService.csproj">
      <Project>{DA16C614-B1B9-42F1-8513-4C9E601041CB}</Project>
      <Name>LanguageService</Name>
    </ProjectReference>
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Include="Resources\PhalangerImageList.bmp" />
  </ItemGroup>
  <!-- This group contains tasks for zipping all the project items - 
       When adding new project item it has to be added here as well. -->
  <ItemGroup>
    <ZipItem Include="Templates\ProjectItems\AppConfig\AppConfig.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\AppConfig\__TemplateIcon.ico" />
    <ZipItem Include="Templates\ProjectItems\AppConfig\App.config" />
    <ZipItem Include="Templates\ProjectItems\Class\Class.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Class\__TemplateIcon.ico" />
    <ZipItem Include="Templates\ProjectItems\Class\PhpClass.php" />
    <ZipItem Include="Templates\ProjectItems\Component\Component.php" />
    <ZipItem Include="Templates\ProjectItems\Component\Component.ico" />
    <ZipItem Include="Templates\ProjectItems\Component\Component.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\CustomControl\CustomControl.ico" />
    <ZipItem Include="Templates\ProjectItems\CustomControl\CustomControl.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\CustomControl\CustomControl.php" />
    <ZipItem Include="Templates\ProjectItems\Form\UI_WinForm.ico" />
    <ZipItem Include="Templates\ProjectItems\Form\windowsform.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\HTMLPage\htmlpage.htm" />
    <ZipItem Include="Templates\ProjectItems\HTMLPage\HTMLPage.ico" />
    <ZipItem Include="Templates\ProjectItems\HTMLPage\htmlpage.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\ResX\Resource.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\ResX\Resource.resX">
      <SubType>Designer</SubType>
    </ZipItem>
    <ZipItem Include="Templates\ProjectItems\ResX\Resource_Resx.ico" />
    <ZipItem Include="Templates\ProjectItems\StyleSheet\StyleSheet.css" />
    <ZipItem Include="Templates\ProjectItems\StyleSheet\StyleSheet.ico" />
    <ZipItem Include="Templates\ProjectItems\StyleSheet\StyleSheet.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Text\TextFile.txt" />
    <ZipItem Include="Templates\ProjectItems\Text\TextFile.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Text\__TemplateIcon.ico" />
    <ZipItem Include="Templates\ProjectItems\UserControl\UserControl.ico" />
    <ZipItem Include="Templates\ProjectItems\UserControl\UserControl.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\UserControl\UserControl.php" />
    <ZipItem Include="Templates\ProjectItems\WebConfig\WebConfig.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\WebConfig\__TemplateIcon.ico" />
    <ZipItem Include="Templates\ProjectItems\WebConfig\Web.config" />
    <!-- Items for 'Web' projects -->
    <ZipItem Include="Templates\ProjectItems\Web\BrowserFile\BrowserFile.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\BrowserFile\BrowserFile.Browser" />
    <ZipItem Include="Templates\ProjectItems\Web\ContentPage\ContentPage.aspx" />
    <ZipItem Include="Templates\ProjectItems\Web\ContentPage\ContentPage.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\GlobalAsax\Global.asax" />
    <ZipItem Include="Templates\ProjectItems\Web\GlobalAsax\GlobalAsax.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\Handler\Handler.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\Handler\Handler.ashx" />
    <ZipItem Include="Templates\ProjectItems\Web\JScript\JScript.js" />
    <ZipItem Include="Templates\ProjectItems\Web\JScript\JScript.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\MasterPage\MasterPage.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\MasterPage\Site.Master" />
    <ZipItem Include="Templates\ProjectItems\Web\NestedWebConfig\Web.Config" />
    <ZipItem Include="Templates\ProjectItems\Web\NestedWebConfig\NestedWebConfig.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\SiteMap\SiteMap.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\SiteMap\Web.sitemap" />
    <ZipItem Include="Templates\ProjectItems\Web\SkinFile\SkinFile.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\SkinFile\SkinFile.skin" />
    <ZipItem Include="Templates\ProjectItems\Web\StyleSheet\StyleSheet.css" />
    <ZipItem Include="Templates\ProjectItems\Web\StyleSheet\StyleSheet.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\WebClass\WebClass.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\WebClass\Class.py" />
    <ZipItem Include="Templates\ProjectItems\Web\WebClass\__TemplateIcon.ico" />
    <ZipItem Include="Templates\ProjectItems\Web\WebConfig\WebConfig.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\WebConfig\Web.Config" />
    <ZipItem Include="Templates\ProjectItems\Web\WebForm\Default.aspx" />
    <ZipItem Include="Templates\ProjectItems\Web\WebForm\WebForm.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\WebHtmlPage\HtmlPage.htm" />
    <ZipItem Include="Templates\ProjectItems\Web\WebHtmlPage\WebHtmlPage.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\WebServiceItem\WebService.asmx" />
    <ZipItem Include="Templates\ProjectItems\Web\WebServiceItem\WebService.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\Web\WebUserControl\WebUserControl.ascx" />
    <ZipItem Include="Templates\ProjectItems\Web\WebUserControl\WebuserControl.vstemplate" />
  </ItemGroup>
  <!-- Zipping of project templates - 
       When adding project template it has to be added here as well... -->
  <ItemGroup>
    <ZipProject Include="Templates\Projects\ClassLibrary\ClassLibrary.vstemplate">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ClassLibrary\__TemplateIcon.ico">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ClassLibrary\ClassLibrary.phpproj">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ClassLibrary\Library.php">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ConsoleApp.Std\ConsoleApp.vstemplate">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ConsoleApp.Std\__TemplateIcon.ico">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ConsoleApp.Std\ConsoleApp.phpproj">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ConsoleApp.Std\Program.php">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ConsoleApp\ConsoleApp.vstemplate">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ConsoleApp\__TemplateIcon.ico">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ConsoleApp\ConsoleApp.phpproj">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\ConsoleApp\Program.php">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\Extension\Extension.vstemplate">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\Extension\__TemplateIcon.ico">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\Extension\Extension.php">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\Extension\Extension.phpproj">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <!--
    
    deprecated..
    
    <ZipProject Include="Templates\Projects\Web\WebApplication\WebApplication.vstemplate">
      <OutputSubPath>Web</OutputSubPath>
    </ZipProject>
    <ZipProject Include="Templates\Projects\Web\WebApplication\__TemplateIcon.ico">
      <OutputSubPath>Web</OutputSubPath>
    </ZipProject>
    <ZipProject Include="Templates\Projects\Web\WebApplication\Default.php">
      <OutputSubPath>Web</OutputSubPath>
    </ZipProject>
    <ZipProject Include="Templates\Projects\Web\WebApplication\Web.config">
      <OutputSubPath>Web</OutputSubPath>
    </ZipProject>
    <ZipProject Include="Templates\Projects\Web\WebApplication\WebApplication.phpproj">
      <OutputSubPath>Web</OutputSubPath>
    </ZipProject>
    -->
    <ZipProject Include="Templates\Projects\WindowsApp\Icon.ico">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\WindowsApp\WindowsApp.vstemplate">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\WindowsApp\__TemplateIcon.ico">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\WindowsApp\WindowsApp.php">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\WindowsApp\WindowsApp.phpproj">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\WinFormApp\Icon.ico">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\WinFormApp\WinFormApp.vstemplate">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\WinFormApp\__TemplateIcon.ico">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\WinFormApp\Form1.php">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\WinFormApp\Program.php">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
    <ZipProject Include="Templates\Projects\WinFormApp\WinFormApp.phpproj">
      <!-- deprecated <OutputSubPath>Windows</OutputSubPath> -->
    </ZipProject>
  </ItemGroup>
  <ItemGroup>
    <None Include="Project.snk" />
    <ZipItem Include="Templates\ProjectItems\XMLSchema\XMLSchema.xsd" />
  </ItemGroup>
  <ItemGroup>
    <ZipProject Include="Templates\Projects\WinFormApp\Form1.user.php" />
  </ItemGroup>
  <ItemGroup>
    <ZipItem Include="Templates\ProjectItems\Form\Form.user.php" />
  </ItemGroup>
  <ItemGroup>
    <ZipItem Include="Templates\ProjectItems\Form\Form.php" />
    <ZipItem Include="Templates\ProjectItems\UserControl\UserControl.user.php" />
  </ItemGroup>
  <ItemGroup>
    <ZipItem Include="Templates\ProjectItems\XMLFile\XMLFile.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\XMLFile\XMLFile.xml" />
    <ZipItem Include="Templates\ProjectItems\XMLFile\__TemplateIcon.ico" />
    <ZipItem Include="Templates\ProjectItems\XMLSchema\Data_Schema.ico" />
    <ZipItem Include="Templates\ProjectItems\XMLSchema\XMLSchema.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\XSLTFile\XSLT.ico" />
    <ZipItem Include="Templates\ProjectItems\XSLTFile\XSLTFile.vstemplate" />
    <ZipItem Include="Templates\ProjectItems\XSLTFile\XSLTFile.xslt" />
  </ItemGroup>
  <PropertyGroup>
    <TargetRegistryRoot Condition=" '$(TargetRegistryRoot)' == '' ">Software\Microsoft\VisualStudio\9.0Exp</TargetRegistryRoot>
    <RegisterOutputPackage Condition="'$(RegisterOutputPackage)' == ''">true</RegisterOutputPackage>
    <RegisterWithCodebase>true</RegisterWithCodebase>
    <VsTemplateLanguage>Phalanger</VsTemplateLanguage>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'Debug_dz' ">
    <DebugSymbols>true</DebugSymbols>
    <OutputPath>bin\Debug_dz\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <NoWarn>414</NoWarn>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <CodeAnalysisUseTypeNameInSuppression>true</CodeAnalysisUseTypeNameInSuppression>
    <CodeAnalysisModuleSuppressionsFile>GlobalSuppressions.cs</CodeAnalysisModuleSuppressionsFile>
  </PropertyGroup>
  <!-- This imports the files that make up the project base classes. -->
  <Import Project="$(ProjectBasePath)\ProjectBase.Files" />
  <Import Project="$(MSBuildBinPath)\Microsoft.CSharp.Targets" />
  <Import Project="$(MSBuildExtensionsPath)\Microsoft\VisualStudio\v9.0\VSSDK\Microsoft.VsSDK.targets" />
  <!--Target that builds the tree of items to ZIP to create a default WEB site-->
  <Target Name="BuildWebApplicationProjectTree" DependsOnTargets="FindSDKInstallation">
    <!--Create the directories-->
    <!-- <MakeDir Directories="$(IntermediateOutputPath)\Projects\Web\WebApplication\bin" /> -->
    <!--Copy the files-->
    <!--
    <Copy DestinationFolder="$(IntermediateOutputPath)\Projects\Web\WebApplication" SourceFiles="Templates\Projects\Web\WebApplication\__TemplateIcon.ico;Templates\Projects\Web\WebApplication\Default.aspx;Templates\Projects\Web\WebApplication\WebApplication.vstemplate;Templates\Projects\Web\WebApplication\WebApplication.pyproj;Templates\Projects\Web\WebApplication\Web.config" SkipUnchangedFiles="true" />
    <Copy DestinationFolder="$(IntermediateOutputPath)\Projects\Web\WebApplication\bin" SourceFiles="$(VsSDKInstall)\VisualStudioIntegration\Common\Assemblies\IronMath.dll;$(\)\VisualStudioIntegration\Common\Assemblies\IronPython.dll" SkipUnchangedFiles="true" />
    -->
  </Target>
  <!--Make the ZIP task depend on this one so that it will be executed before zipping the files-->
  <PropertyGroup>
    <ZipFilesDependsOn>$(ZipFilesDependsOn);BuildWebApplicationProjectTree</ZipFilesDependsOn>
  </PropertyGroup>
  <ProjectExtensions>
    <VisualStudio>
    </VisualStudio>
  </ProjectExtensions>
  <Target Name="AfterBuild">
    <!--Register the Project output folder so the WPF Designer can find the PythonEventProvider class-->
    <Exec IgnoreExitCode="true" Command="reg add HKCU\Software\Microsoft\.NETFramework\AssemblyFolders\PhalangerProject /f /ve /d &quot;$(TargetDir)\&quot;" />
  </Target>
  <PropertyGroup>
    <CoreCleanDependsOn>CleanWebSiteTemplates</CoreCleanDependsOn>
  </PropertyGroup>
  <PropertyGroup>
    <PostBuildEvent>REM Building zip files for Web Site Project templates .....

mkdir "$(ProjectDir)..\WebSiteProject\obj\$(Configuration)"

        $(MSBuildBinPath)\msbuild /p:RegisterOutputPackage=$(RegisterOutputPackage);Configuration=$(Configuration) "$(ProjectDir)..\WebSiteProject\WebSiteProject.proj"</PostBuildEvent>
  </PropertyGroup>
  <!--Call the Clean target for the project that builds the Web Site templates-->
  <Target Name="CleanWebSiteTemplates">
    <MSBuild Targets="Clean" Projects="$(ProjectDir)..\WebSiteProject\WebSiteProject.proj" Properties="Configuration=$(Configuration)" />
  </Target>
</Project>